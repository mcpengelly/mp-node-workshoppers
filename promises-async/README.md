#using bluebird promise library for async code
